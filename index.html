<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MS per Llucmajor - Proximitat i Futur</title>
    
    <meta name="description" content="MS per Llucmajor: Treballem per un municipi just, sostenible i participatiu. Informa't de les nostres propostes i actualitat.">
    <meta property="og:title" content="MS per Llucmajor - Constru茂m el municipi que volem">
    <meta property="og:description" content="Not铆cies, propostes i transpar猫ncia per a Llucmajor, s'Arenal i les Urbanitzacions.">
    <meta property="og:image" content="imatges/Llucmajor2.png"> <meta property="og:type" content="website">

    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>


    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>


    <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,600;0,700;0,800;1,400&display=swap" rel="stylesheet">


    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'mes-lime': '#C4D600',  /* Verd corporatiu MS */
                        'mes-dark': '#2E2E2E',  /* Gris fosc */
                        'mes-light': '#F3F4F6'
                    },
                    fontFamily: {
                        sans: ['Barlow', 'sans-serif'],
                    },
                    keyframes: {
                        fade: {
                            '0%': { opacity: '0', transform: 'translateY(-10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    },
                    animation: {
                        fade: 'fade 0.3s ease-out forwards',
                    }
                }
            }
        }
    </script>


    <style>
        body { font-family: 'Barlow', sans-serif; background-color: #FAFAFA; color: #2E2E2E; overflow-x: hidden; }
        .clip-diagonal { clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%); }
        .btn-primary { 
            background-color: #C4D600; 
            color: #2E2E2E; 
            font-weight: 800; 
            padding: 0.75rem 2rem; 
            text-transform: uppercase; 
            letter-spacing: 0.1em; 
            transition: all 0.3s;
            border: 2px solid #C4D600;
        }
        .btn-primary:hover { 
            background-color: transparent; 
            color: #2E2E2E; 
        }
        .section-title-box {
            display: inline-block;
            background: #2E2E2E;
            color: white;
            padding: 4px 12px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.2em;
        }
        .modal-title { font-size: 2.5rem; line-height: 1.1; font-weight: 800; margin-bottom: 1.5rem; letter-spacing: -0.02em; }
        .article-body p { margin-bottom: 1.5rem; line-height: 1.8; color: #555; font-size: 1.1rem; }
        /* Scrollbar personalitzada */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #C4D600; }
        ::-webkit-scrollbar-thumb:hover { background: #aebd00; }
    </style>
</head>
<body>
    <div id="root"></div>


    <script type="text/babel">
        // --- CONFIGURACI FIREBASE (Mantingues les teves claus reals aqu铆) ---
        const firebaseConfig = {
             apiKey: "AIzaSyD...", // Posa la teva API Key real
             authDomain: "mes-llucmajor-app.firebaseapp.com",
             projectId: "mes-llucmajor-app",
             storageBucket: "mes-llucmajor-app.appspot.com",
             messagingSenderId: "3389...",
             appId: "1:3389..."
        };
        
        // Inicialitzar Firebase (evitem errors si ja est inicialitzat)
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const db = firebase.firestore();
        const auth = firebase.auth();


        const { useState, useEffect } = React;


        // Dades Mock (simulaci贸) per si no hi ha base de dades connectada encara
        const mockNews = [
            { id: 1, title: "Llucmajor necessita un pla de mobilitat real", date: "12 FEB 2026", category: "Mobilitat", content: "El caos circulatori a l'estiu demostra que el model actual est esgotat. Proposem..." },
            { id: 2, title: "Presentem la llista per renovar l'Ajuntament", date: "10 FEB 2026", category: "Partit", content: "Un equip transversal, jove i preparat per governar des del minut u..." },
            { id: 3, title: "M茅s zones verdes a s'Arenal: una urg猫ncia", date: "05 FEB 2026", category: "Sostenibilitat", content: "No podem seguir cimentant cada rac贸. Els ve茂ns reclamen pulmons verds..." }
        ];


        const mockPropostes = [
            { title: "Habitatge Digne", icon: "", desc: "Creaci贸 d'un parc p煤blic de lloguer i regulaci贸 dels preus." },
            { title: "Mobilitat Sostenible", icon: "", desc: "Carril bici connectat entre nuclis i millora del transport p煤blic." },
            { title: "Cultura Viva", icon: "", desc: "Recuperaci贸 d'espais culturals i suport a entitats locals." },
            { title: "Llucmajor Verd", icon: "", desc: "Pla de reforestaci贸 i protecci贸 del s貌l r煤stic." }
        ];


        const equip = [
            { name: "Miquel ngel", role: "Candidat a Batle", img: "https://via.placeholder.com/150" },
            { name: "Maria Barcel贸", role: "Urbanisme i Medi Ambient", img: "https://via.placeholder.com/150" },
            { name: "Joan Obrador", role: "Cultura i Participaci贸", img: "https://via.placeholder.com/150" }
        ];


        function App() {
            const [user, setUser] = useState(null);
            const [news, setNews] = useState(mockNews);
            const [page, setPage] = useState('home'); // home, arxiu, propostes, equip, contacte
            const [selectedItem, setSelectedItem] = useState(null); // Per obrir modals de not铆cies
            const [isAdmin, setIsAdmin] = useState(false); // Mode edici贸
            
            // NOU ESTAT PER AL MEN MBIL
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);


            // Efecte per comprovar l'autenticaci贸
            useEffect(() => {
                const unsubscribe = auth.onAuthStateChanged((u) => {
                    if (u) { setUser(u); setIsAdmin(true); }
                    else { setUser(null); setIsAdmin(false); }
                });
                return () => unsubscribe();
            }, []);


            // Navegaci贸 simple
            const navigateTo = (target) => {
                setPage(target);
                setSelectedItem(null);
                setIsMobileMenuOpen(false); // Tanquem el men煤 m貌bil en navegar
                window.scrollTo(0, 0);
            };


            return (
                <div className="min-h-screen flex flex-col font-sans">
                    
                    {/* NAV DE NAVEGACI MILLORADA */}
                    <nav className="fixed w-full z-[100] bg-white border-b-2 border-stone-200 px-4 md:px-8 py-4 shadow-sm">
                        <div className="flex justify-between items-center">
                            {/* LOGO */}
                            <div className="flex items-center gap-3 cursor-pointer" onClick={() => navigateTo('home')}>
                                <span className="font-black text-2xl tracking-tighter uppercase">MS<span className="text-mes-lime">/</span>Llucmajor</span>
                            </div>

                            {/* MEN ESCRIPTORI (Hidden en m貌bil) */}
                            <div className="hidden md:flex gap-8 items-center font-bold text-[11px] uppercase tracking-[0.15em]">
                                <button onClick={() => navigateTo('home')} className={`hover:text-mes-lime transition ${page === 'home' ? 'text-mes-lime' : ''}`}>Inici</button>
                                <button onClick={() => navigateTo('arxiu')} className={`hover:text-mes-lime transition ${page === 'arxiu' ? 'text-mes-lime' : ''}`}>Actualitat</button>
                                <button onClick={() => navigateTo('propostes')} className={`hover:text-mes-lime transition ${page === 'propostes' ? 'text-mes-lime' : ''}`}>Propostes</button>
                                <button onClick={() => navigateTo('equip')} className={`hover:text-mes-lime transition ${page === 'equip' ? 'text-mes-lime' : ''}`}>L'Equip</button>
                                <button onClick={() => navigateTo('contacte')} className={`btn-primary !py-2 !px-4 !text-[10px]`}>Suma't-hi!</button>
                                
                                {/* Bot贸 Gesti贸 Discret */}
                                <button onClick={() => { 
                                    const p = prompt("Clau:"); 
                                    if(p === "mes2025") setIsAdmin(!isAdmin); 
                                }} className="text-stone-300 hover:text-mes-dark text-[14px]">锔</button>
                            </div>

                            {/* BOT HAMBURGUESA (Nom茅s m貌bil) */}
                            <div className="md:hidden">
                                <button onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)} className="text-mes-dark p-2 focus:outline-none">
                                    {isMobileMenuOpen ? (
                                        <span className="text-2xl font-bold">&times;</span>
                                    ) : (
                                        <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                                    )}
                                </button>
                            </div>
                        </div>

                        {/* DESPLEGABLE MBIL */}
                        {isMobileMenuOpen && (
                            <div className="md:hidden absolute top-full left-0 w-full bg-white border-b border-stone-200 shadow-xl py-6 flex flex-col items-center gap-6 font-bold uppercase tracking-widest text-sm animate-fade">
                                <button onClick={() => navigateTo('home')} className="hover:text-mes-lime">Inici</button>
                                <button onClick={() => navigateTo('arxiu')} className="hover:text-mes-lime">Actualitat</button>
                                <button onClick={() => navigateTo('propostes')} className="hover:text-mes-lime">Propostes</button>
                                <button onClick={() => navigateTo('equip')} className="hover:text-mes-lime">Equip</button>
                                <button onClick={() => navigateTo('contacte')} className="text-mes-lime">Suma't-hi!</button>
                            </div>
                        )}
                    </nav>


                    {/* PGINA: HOME */}
                    {page === 'home' && (
                        <div className="animate-fade">
                            {/* HERO SECTION */}
                            <header className="relative h-[85vh] flex items-center justify-center overflow-hidden clip-diagonal bg-mes-dark">
                                {/* Fons decoratiu */}
                                <div className="absolute inset-0 opacity-40 bg-[url('https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80')] bg-cover bg-center grayscale"></div>
                                <div className="absolute inset-0 bg-gradient-to-t from-mes-dark via-transparent to-transparent"></div>
                                
                                <div className="relative z-10 text-center text-white px-4 max-w-4xl">
                                    <div className="mb-4 inline-block border border-mes-lime text-mes-lime px-4 py-1 text-xs font-bold uppercase tracking-[0.2em]">Eleccions 2026</div>
                                    <h1 className="text-5xl md:text-7xl font-black mb-6 leading-tight tracking-tighter">
                                        EL LLUCMAJOR <br/> QUE <span className="text-mes-lime">ESTIMES</span>
                                    </h1>
                                    <p className="text-lg md:text-xl font-light mb-8 max-w-2xl mx-auto opacity-90">
                                        Volem un municipi on viure sigui un dret, no un luxe. <br/>Constru茂m junts el futur de Llucmajor, s'Arenal i les Urbanitzacions.
                                    </p>
                                    <div className="flex flex-col md:flex-row gap-4 justify-center">
                                        <button onClick={() => navigateTo('propostes')} className="btn-primary">Les nostres propostes</button>
                                        <button onClick={() => navigateTo('contacte')} className="bg-transparent border-2 border-white text-white font-bold uppercase py-3 px-8 tracking-widest hover:bg-white hover:text-mes-dark transition">Voluntariat</button>
                                    </div>
                                </div>
                            </header>


                            {/* NOTCIES DESTACADES (Grid 3) */}
                            <section className="py-20 px-6 max-w-7xl mx-auto">
                                <div className="flex justify-between items-end mb-12">
                                    <div>
                                        <div className="section-title-box mb-2">Actualitat</div>
                                        <h2 className="text-3xl font-bold tracking-tight">DARRERES NOVETATS</h2>
                                    </div>
                                    <button onClick={() => navigateTo('arxiu')} className="hidden md:block text-sm font-bold border-b-2 border-mes-lime pb-1 hover:text-mes-lime transition">VEURE TOT L'ARXIU</button>
                                </div>


                                <div className="grid md:grid-cols-3 gap-8">
                                    {news.map(n => (
                                        <div key={n.id} onClick={() => setSelectedItem(n)} className="group cursor-pointer bg-white shadow-sm hover:shadow-xl transition-all duration-300 border border-stone-100">
                                            <div className="h-48 bg-stone-200 overflow-hidden relative">
                                                <div className="absolute top-4 left-4 bg-white text-[10px] font-bold px-2 py-1 uppercase tracking-widest z-10">{n.category}</div>
                                                <img src={`https://source.unsplash.com/random/800x600?sig=${n.id}`} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 grayscale group-hover:grayscale-0" alt="" />
                                            </div>
                                            <div className="p-8">
                                                <div className="text-mes-lime text-xs font-bold mb-2">{n.date}</div>
                                                <h3 className="text-xl font-bold leading-tight mb-4 group-hover:text-mes-lime transition-colors">{n.title}</h3>
                                                <div className="w-10 h-1 bg-stone-200 group-hover:bg-mes-lime transition-all"></div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                                <div className="mt-8 text-center md:hidden">
                                     <button onClick={() => navigateTo('arxiu')} className="text-sm font-bold border-b-2 border-mes-lime pb-1">VEURE TOT L'ARXIU</button>
                                </div>
                            </section>


                            {/* BANNER PROPOSTES */}
                            <section className="bg-mes-dark text-white py-24 px-6 relative overflow-hidden">
                                <div className="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center relative z-10">
                                    <div>
                                        <div className="text-mes-lime font-bold tracking-[0.2em] mb-2 text-sm uppercase">Full de ruta</div>
                                        <h2 className="text-4xl md:text-5xl font-black mb-6">IDEES CLARES PER A UN TEMPS NOU</h2>
                                        <p className="opacity-70 mb-8 text-lg leading-relaxed">No venim a fer soroll, venim a solucionar problemes. Consulta el nostre programa electoral obert i viu.</p>
                                        <button onClick={() => navigateTo('propostes')} className="btn-primary border-none">Llegir Programa</button>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        {mockPropostes.map((p, i) => (
                                            <div key={i} className="bg-white/5 p-6 border border-white/10 hover:bg-white/10 transition">
                                                <div className="text-3xl mb-2">{p.icon}</div>
                                                <h4 className="font-bold uppercase tracking-wider text-sm">{p.title}</h4>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </section>
                        </div>
                    )}


                    {/* MODAL LECTURA */}
                    {selectedItem && (
                        <div className="fixed inset-0 z-[200] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 animate-fade" onClick={() => setSelectedItem(null)}>
                            <div className="bg-white max-w-2xl w-full max-h-[90vh] overflow-y-auto p-8 md:p-12 relative text-left shadow-[0_20px_50px_rgba(0,0,0,0.3)] ring-1 ring-black/5" onClick={e => e.stopPropagation()}>
                                <button onClick={() => setSelectedItem(null)} className="absolute top-6 right-8 text-4xl text-left hover:text-mes-lime transition-colors text-stone-400">&times;</button>
                                <div className="section-title-box mb-4 text-left">{selectedItem.category}</div>
                                <h2 className="modal-title text-left">{selectedItem.title}</h2>
                                <div className="article-body whitespace-pre-wrap text-left">{selectedItem.content}</div>
                                <div className="mt-12 pt-8 border-t border-stone-100 flex justify-center text-left">
                                    <button onClick={() => setSelectedItem(null)} className="btn-primary !px-12 text-left">Tancar lectura</button>
                                </div>
                            </div>
                        </div>
                    )}


                    {/* FOOTER GENERAL */}
                    <footer className="bg-mes-dark py-12 px-6 text-center text-white/10 text-[10px] font-black uppercase tracking-[0.5em] text-center">
                        MS PER LLUCMAJOR 路 2026 路 CONSTRUM EL MUNICIPI QUE VOLEM
                    </footer>
                </div>
            );
        }


        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>