<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>MS per Llucmajor - Proximitat i Futur</title>
    <meta name="description" content="Web oficial de MS per Llucmajor. Treballem per un municipi m茅s just, sostenible i participatiu. Coneix les nostres propostes i l'equip que ho fa possible.">
    <meta name="keywords" content="MS per Llucmajor, pol铆tica Llucmajor, s'Arenal, Urbanitzacions, Mallorca, ecosobiranisme">
    <link rel="canonical" href="https://mesperllucmajor.github.io/web">
    
    <meta property="og:title" content="MS per Llucmajor - Proximitat i Futur">
    <meta property="og:description" content="Constru茂m junts el Llucmajor que volem. Suma't al nostre projecte.">
    <meta property="og:image" content="Logo.png">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">

    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,600;0,700;0,800;1,700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Barlow', 'sans-serif'] },
                    colors: {
                        mes: { 
                            lime: '#c6d100', 
                            dark: '#1a1a1a', 
                            soft: '#f4f4f4', 
                            stone: '#f9f8f4', 
                            text: '#1a1a1a' 
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { font-family: 'Barlow', sans-serif; overflow-x: hidden; color: #1a1a1a; scroll-behavior: smooth; background-color: #ffffff; text-align: left; }
        * { border-radius: 0 !important; }

        /* Navbar fixa */
        nav { box-shadow: 0 2px 10px rgba(0,0,0,0.05); }

        .bg-mes-lime { background-color: #c6d100; }
        .text-mes-lime { color: #c6d100; }
        
        .btn-primary { 
            background-color: #c6d100; color: #1a1a1a; font-weight: 800; text-transform: uppercase; 
            padding: 1rem 2.5rem; transition: all 0.3s ease; display: inline-flex; align-items: center;
            letter-spacing: 0.1em; font-size: 0.8rem;
        }
        .btn-primary:hover { background-color: #1a1a1a; color: #c6d100; }
        
        .section-title-box {
            background-color: #1a1a1a; color: white; padding: 0.2rem 0.6rem; display: inline-block;
            font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.5rem; font-size: 0.6rem;
        }

        .article-body { font-size: 1.1rem; line-height: 1.7; color: #1a1a1a; text-align: left; }
        .article-body p { margin-bottom: 1.2rem; }

        .modal-title { font-size: 1.3rem; font-weight: 800; line-height: 1.3; margin-bottom: 1.5rem; text-transform: uppercase; color: #1a1a1a; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade { animation: fadeIn 0.8s ease-out forwards; }

        .hero-slide { position: absolute; inset: 0; transition: opacity 1.5s ease-in-out; opacity: 0; z-index: 0; }
        .hero-slide.active { opacity: 1; z-index: 10; }
        .hero-zoom { animation: zoomEffect 25s infinite alternate linear; }
        @keyframes zoomEffect { from { transform: scale(1); } to { transform: scale(1.15); } }

        .archive-item { border-left: 4px solid transparent; transition: all 0.2s; border-bottom: 1px solid #f0f0f0; cursor: pointer; text-align: left; }
        .archive-item:hover { border-left-color: #c6d100; background-color: #f9f8f4; }
        
        .modal-scroll { max-height: 75vh; overflow-y: auto; text-align: left; }
        .team-img { object-fit: cover; }

        .zone-col { 
            position: relative; height: 500px; overflow: hidden; transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1); 
            cursor: pointer; border-right: 1px solid rgba(255,255,255,0.1);
        }
        .zone-col:last-child { border-right: none; }
        @media (min-width: 768px) { .zone-col:hover { flex-grow: 2; } }
        
        .section-separator { border-top: 1px solid #e5e2d9; }
        .section-accent-top { border-top: 8px solid #c6d100; }

        .form-group { margin-bottom: 1.5rem; text-align: left; }
        .form-label { display: block; font-size: 0.75rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; color: #666; margin-bottom: 0.5rem; }
        .form-input { border: 2px solid #e5e2d9; padding: 1rem; width: 100%; transition: all 0.2s; font-size: 1rem; background: #fff; }
        .form-input:focus { border-color: #c6d100; outline: none; background-color: #f9f8f4; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- DADES DEL FITXER ORIGINAL ---
        const bannerSlides = [
            { title: "POLTICA PER A LA GENT", sub: "Treballem cada dia per un municipi m茅s just, sostenible i participatiu des de la proximitat.", img: "imatges/imatge1.jpeg" },
            { title: "CONSTRUM JUNTS EL LLUCMAJOR QUE VOLEM", sub: "Un projecte compartit on la veu dels ciutadans 茅s el motor del canvi real.", img: "imatges/Llucmajor2.png" },
            { title: "FEM UN S'ARENAL MILLOR", sub: "Volem un nucli costaner cuidat, segur i amb els serveis que els seus ve茂nats mereixen.", img: "imatges/sarenal.png" },
            { title: "LES URBANITZACIONS QUE MEREIXEM", sub: "Reivindiquem millores estructurals i una gesti贸 eficient per a tots els nuclis del terme.", img: "imatges/badies2.jpeg" },
            { title: "S'ESTANYOL i SON BIEL TAMB SN LLUCMAJOR", sub: "Protegim l'ess猫ncia dels nosres pobles mariners i el nostre medi ambient.", img: "imatges/estanyol.png" },
            { title: "SERVEIS PER FORA VILA", sub: "Garantim la igualtat de drets i serveis per a tota la ciutadania, visqui on visqui.", img: "imatges/Foravila.png" }
        ];

        const initialArticles = [
            { id: 'n-5', category: 'noticia', title: "Aconseguim el rebuig unnime del Ple al circuit de motos nutiques de sArenal", date: "DESEMBRE 2025", image: "imatges/MotosAigua.png", summary: "Ho hem aconseguit: Llucmajor diu NO al circuit", content: "Grcies a la iniciativa i la pressi贸 pol铆tica de MS per Llucmajor, el Ple de lAjuntament ha rebutjat per unanimitat la instal路laci贸 dun circuit tancat de motos d'aigua a la costa de sArenal. La proposta, defensada pel nostre regidor Josep Oriol G贸mez, ha obligat lequip de govern a posicionar-se clarament en contra dun projecte que amena莽ava el descans dels ve茂nats i la integritat del nostre medi mar铆." },
            { id: 'n-4', category: 'noticia', title: "Lequip de govern de Llucmajor protegeix linsult: el PP, Vox i ASI rebutgen reprovar la regidora P茅rez", date: "DESEMBRE 2025", image: "imatges/Govern.png", summary: "L'equip de govern de Llucmajor ha tocat fons.", content: "L'猫tica i el respecte a la ciutadania han tornat a brillar per la seva abs猫ncia al darrer Ple ordinari de Llucmajor. Des de MS per Llucmajor vrem presentar una proposta per reprovar p煤blicament la regidora d'Urbanisme, Inmaculada P茅rez, despr茅s que el passat mes de novembre el sistema de gravaci贸 capts un comentari seu intolerable cap als ve茂nats assistents: 芦Que les den por el culo a todos禄." },
            { id: 'n-3', category: 'noticia', title: "MS per Llucmajor for莽a l'Ajuntament a exigir la construcci贸 immediata dels habitatges de l'IBAVI", date: "NOVEMBRE 2025", image: "imatges/llucmajor1.png", summary: "MS lidera la pol铆tica d'habitatge", content: "Davant la inacci贸 hist貌rica del Partit Popular i els seus socis, MS per Llucmajor ha tornat a liderar la iniciativa social al plenari per posar fi a una vergonya que dura d猫cades. Hem aconseguit que el Ple insti l'IBAVI a desbloquejar la construcci贸 d'habitatges de protecci贸 p煤blica (HPP) al carrer Grup Escolar." },
            { id: 'op-11', category: 'opinio', title: "La legislatura del menyspreu", date: "DESEMBRE 2025", image: "imatges/atpc.png", summary: "L'equip de govern ha tocat fons.", content: "Llucmajor, desembre de 2025. Lequip de govern de Llucmajor ha tocat fons. La pol铆tica 茅s gesti贸, 茅s debat, per貌, sobretot, 茅s vocaci贸 de servei p煤blic." }
        ];

        const zones = [
            { id: 'poble', name: 'Llucmajor Poble', img: "imatges/Llucmajor2.png" },
            { id: 'arenal', name: "S'Arenal", img: "imatges/sarenal.png" },
            { id: 'urb', name: 'Urbanitzacions', img: "imatges/badies2.jpeg" },
            { id: 'mariners', name: "S'Estanyol i Son Biel贸", img: "imatges/estanyol.png" },
            { id: 'foravila', name: 'Foravila', img: "imatges/Foravila.png" }
        ];

        const initialProposals = [
            { id: 'p-1', zone: 'poble', title: "Nou acc茅s al Poliesportiu", summary: "Urbanitzaci贸 i millora d'accessos.", content: "Proposta per millorar els accessos i garantir la seguretat viria al poliesportiu municipal.", img: "https://images.unsplash.com/photo-1574629810360-7efbbe195018" },
            { id: 'p-2', zone: 'arenal', title: "Reforma Passeig Mar铆tim", summary: "Un espai p煤blic de qualitat.", content: "Volem recuperar el front mar铆tim per al gaudi dels ve茂nats.", img: "https://images.unsplash.com/photo-1507525428034-b723cf961d3e" }
        ];

        const teamRegidors = [
            { name: "Maria Barcel贸 Calvi帽o", role: "Portaveu Municipal", image: "imatges/02.Maria.jpg", cv: "Docent a lIES Llucmajor. Regidora des de lany 2015." },
            { name: "Oriol G贸mez D铆az", role: "Regidor", image: "imatges/Oriol2.jpg", cv: "Docent de setembre de 2024." }
        ];

        const teamExecutiva = [
            { name: "Maria Barcel贸", role: "Coordinadora Local", image: "imatges/02.Maria.jpg", cv: "Lideratge." },
            { name: "Oriol G贸mez", role: "Secretari d'Organitzaci贸", image: "imatges/Oriol2.jpg", cv: "Gesti贸." },
            { name: "Miquel Serra", role: "Tresorer", image: "imatges/01.Miquel.jpg", cv: "Economia." },
            { name: "Marina Ferre", role: "Secretria de comunicaci贸", image: "imatges/06.Marina.jpeg", cv: "Premsa." },
            { name: "Toni Toms", role: "Secretari de comunicaci贸", image: "imatges/Tuni.jpg", cv: "Estrat猫gia digital." },
            { name: "Ti Maim贸", role: "Secretari de comunicaci贸", image: "imatges/05.Sebastia.jpg", cv: "Creativitat visual." },
            { name: "Joana Catany", role: "Vocal", image: "https://images.unsplash.com/photo-1544005313-94ddf0286df2", cv: "Vocal." },
            { name: "Maria del Mar Vanrell", role: "Vocal", image: "imatges/04.MariadelMar.jpg", cv: "Vocal." },
            { name: "Francina Cresp铆", role: "Vocal", image: "imatges/Francina.jpg", cv: "Vocal." },
            { name: "Jaume Toms", role: "Vocal", image: "imatges/JaumeTomas.jpg", cv: "Vocal." }
        ];

        const initialObservatory = [
            { id: 1, topic: "Auditoria externa d'Urbanisme", status: " ATURAT", note: "M茅s d'un any esperant la licitaci贸." },
            { id: 2, topic: "Millora carrer Pere Maim贸", status: " PENDENT", note: "Projecte al calaix sense pressupost real." },
            { id: 3, topic: "Resid猫ncia de la gent gran", status: " ATURAT", note: "Sense conveni signat amb el Govern." }
        ];

        const IconInstagram = () => (<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>);
        const IconFacebook = () => (<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>);
        const IconWhatsapp = () => (<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/><path d="M8 12h.01"/><path d="M12 12h.01"/><path d="M16 12h.01"/></svg>);

        function App() {
            const [news, setNews] = useState(initialArticles);
            const [page, setPage] = useState('home'); 
            const [activeSlide, setActiveSlide] = useState(0);
            const [selectedItem, setSelectedItem] = useState(null);
            const [filterZone, setFilterZone] = useState('all');
            const [contactForm, setContactForm] = useState({ nom: '', email: '', missatge: '' });
            const [leadForm, setLeadForm] = useState({ nom: '', email: '', tipus: 'newsletter' });
            const [submitted, setSubmitted] = useState(false);

            useEffect(() => {
                const handleHash = () => {
                    const hash = window.location.hash.replace('#/', '');
                    if (['home', 'arxiu', 'projectes', 'equip', 'contacte'].includes(hash)) setPage(hash);
                    else setPage('home');
                    window.scrollTo(0, 0);
                };
                window.addEventListener('hashchange', handleHash);
                handleHash();
                return () => window.removeEventListener('hashchange', handleHash);
            }, []);

            useEffect(() => {
                const interval = setInterval(() => setActiveSlide(s => (s + 1) % bannerSlides.length), 6000);
                return () => clearInterval(interval);
            }, []);

            const navigateTo = (p) => { window.location.hash = "#/" + p; };

            const handleContactSubmit = (e) => {
                e.preventDefault();
                const bodyText = "Nom: " + contactForm.nom + "\nEmail: " + contactForm.email + "\n\nMissatge:\n" + contactForm.missatge;
                window.location.href = "mailto:mesperllucmajor@gmail.com?subject=Contacte Web&body=" + encodeURIComponent(bodyText);
            };

            const handleLeadSubmit = (e) => {
                e.preventDefault();
                setSubmitted(true);
                setTimeout(() => setSubmitted(false), 5000);
                setLeadForm({ nom: '', email: '', tipus: 'newsletter' });
            };

            const filteredProposals = filterZone === 'all' ? initialProposals : initialProposals.filter(p => p.zone === filterZone);
            const latestNewsList = news.slice(0, 6);

            return (
                <div className="min-h-screen bg-white text-mes-dark font-sans text-left">
                    {/* NAV FIXED */}
                    <nav className="fixed w-full z-[100] bg-white border-b-2 border-stone-200 px-4 md:px-8 py-4 flex justify-between items-center shadow-sm">
                        <div className="flex items-center gap-3 cursor-pointer" onClick={() => navigateTo('home')}>
                            <div className="bg-mes-lime text-black font-black px-3 py-1 text-xl tracking-tighter">MS</div>
                            <div className="font-bold text-xs tracking-[0.2em] hidden sm:block uppercase">Llucmajor</div>
                        </div>
                        <div className="hidden md:flex gap-10 items-center font-bold text-[11px] uppercase tracking-[0.15em]">
                            <button onClick={() => navigateTo('home')} className={page === 'home' ? 'text-mes-lime' : ''}>Inici</button>
                            <button onClick={() => navigateTo('arxiu')} className={page === 'arxiu' ? 'text-mes-lime' : ''}>Actualitat</button>
                            <button onClick={() => navigateTo('projectes')} className={page === 'projectes' ? 'text-mes-lime' : ''}>Propostes</button>
                            <button onClick={() => navigateTo('equip')} className={page === 'equip' ? 'text-mes-lime' : ''}>L'Equip</button>
                            <button onClick={() => navigateTo('contacte')} className={page === 'contacte' ? 'text-mes-lime' : ''}>Contacte</button>
                        </div>
                    </nav>

                    {/* VISTA HOME */}
                    {page === 'home' && (
                        <main className="animate-fade">
                            <header className="relative h-[85vh] w-full bg-mes-dark overflow-hidden flex items-center pt-16">
                                {bannerSlides.map((slide, i) => (
                                    <div key={i} className={"hero-slide " + (i === activeSlide ? 'active' : '')}>
                                        <img src={slide.img} className="w-full h-full object-cover hero-zoom" alt={slide.title} />
                                        <div className="absolute inset-0 bg-black/45"></div>
                                    </div>
                                ))}
                                <div className="relative z-20 max-w-7xl mx-auto px-8 w-full">
                                    <div className="max-w-4xl text-left">
                                        <h1 className="text-5xl md:text-[90px] font-black uppercase text-white leading-none tracking-tighter mb-8">{bannerSlides[activeSlide].title}</h1>
                                        <p className="text-xl md:text-2xl text-white/90 font-medium mb-10 border-l-4 border-mes-lime pl-6 italic">{bannerSlides[activeSlide].sub}</p>
                                        <div className="flex flex-wrap gap-4">
                                            <button onClick={() => document.getElementById('observatori').scrollIntoView({behavior:'smooth'})} className="btn-primary">Observatori</button>
                                            <button onClick={() => navigateTo('projectes')} className="bg-white/20 backdrop-blur-md text-white border-2 border-white px-8 py-4 font-black uppercase text-sm hover:bg-mes-lime hover:text-black transition-all">Projectes</button>
                                        </div>
                                    </div>
                                </div>
                            </header>

                            {/* SECCI CAPTACI (LEADS) */}
                            <section className="py-24 bg-white px-8">
                                <div className="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                                    <div>
                                        <div className="section-title-box">Participaci贸</div>
                                        <h2 className="text-5xl font-black uppercase tracking-tighter leading-none mb-6">Suma't al projecte col路lectiu</h2>
                                        <p className="text-xl text-stone-500 italic border-l-4 border-mes-lime pl-6">Volem un municipi millor i et necessitem per fer-ho possible. Tria com vols participar.</p>
                                    </div>
                                    <div className="bg-mes-stone p-10 border-2 border-stone-200 shadow-xl">
                                        {submitted ? (
                                            <div className="text-center py-10">
                                                <div className="text-4xl mb-4"></div>
                                                <h3 className="text-2xl font-black uppercase">Grcies per sumar!</h3>
                                                <p className="mt-2 text-stone-600 uppercase text-xs font-bold tracking-widest">Ens posarem en contacte molt aviat.</p>
                                            </div>
                                        ) : (
                                            <form onSubmit={handleLeadSubmit} className="space-y-6">
                                                <div className="form-group">
                                                    <label className="form-label">Nom complet</label>
                                                    <input className="form-input" type="text" value={leadForm.nom} onChange={e => setLeadForm({...leadForm, nom: e.target.value})} required />
                                                </div>
                                                <div className="form-group">
                                                    <label className="form-label">Email</label>
                                                    <input className="form-input" type="email" value={leadForm.email} onChange={e => setLeadForm({...leadForm, email: e.target.value})} required />
                                                </div>
                                                <div className="form-group">
                                                    <label className="form